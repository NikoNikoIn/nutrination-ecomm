{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Row,Col}from'react-bootstrap';import Product from'../components/Product';import Loader from'../components/Loader';import Message from'../components/Message';import Paginate from'../components/Paginate';import{useDispatch,useSelector}from'react-redux';import{listProducts}from'../actions/productActions';import{useNavigate,useLocation}from'react-router-dom';import ProductCarousel from'../components/ProductCarousel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HomeScreen(){var navigate=useNavigate;var dispatch=useDispatch();var productList=useSelector(function(state){return state.productList;});var error=productList.error,loading=productList.loading,products=productList.products,pages=productList.pages;var location=useLocation();var searchParams=new URLSearchParams(location.search);var keyword=searchParams.get('keyword')||'';var page=searchParams.get('page')||1;useEffect(function(){dispatch(listProducts(keyword,page));},[dispatch,keyword,page]);return/*#__PURE__*/_jsxs(\"div\",{className:\"body\",children:[!keyword&&/*#__PURE__*/_jsx(ProductCarousel,{}),!keyword?/*#__PURE__*/_jsx(\"h1\",{children:\"Latest Products\"}):/*#__PURE__*/_jsxs(\"h1\",{children:[\"Search Results on '\",keyword,\"'\"]}),/*#__PURE__*/_jsx(Paginate,{page:page,pages:pages,keyword:keyword}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Row,{children:products.map(function(product){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,children:/*#__PURE__*/_jsx(Product,{product:product})},product._id);})})}),/*#__PURE__*/_jsx(Paginate,{page:page,pages:pages,keyword:keyword})]});}export default HomeScreen;","map":{"version":3,"names":["React","useState","useEffect","Row","Col","Product","Loader","Message","Paginate","useDispatch","useSelector","listProducts","useNavigate","useLocation","ProductCarousel","jsx","_jsx","jsxs","_jsxs","HomeScreen","navigate","dispatch","productList","state","error","loading","products","pages","location","searchParams","URLSearchParams","search","keyword","get","page","className","children","variant","map","product","sm","md","lg","xl","_id"],"sources":["C:/ecomm/backend/frontend/src/screens/HomeScreen.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport Product from '../components/Product'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport Paginate from '../components/Paginate'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { listProducts } from '../actions/productActions'\r\nimport { useNavigate, useLocation } from 'react-router-dom'\r\nimport ProductCarousel from '../components/ProductCarousel'\r\n\r\n\r\nfunction HomeScreen() {\r\n\r\n    const navigate = useNavigate\r\n    const dispatch = useDispatch()\r\n    const productList = useSelector(state => state.productList)\r\n    const {error, loading, products, pages} = productList\r\n\r\n    const location = useLocation()\r\n    const searchParams = new URLSearchParams(location.search)\r\n\r\n    const keyword = searchParams.get('keyword') || ''\r\n    const page = searchParams.get('page') || 1\r\n\r\n    useEffect(() => {\r\n        dispatch(listProducts(keyword, page))\r\n    }, [dispatch, keyword, page])\r\n\r\n    \r\n    return (\r\n        <div className='body'>\r\n            {!keyword && <ProductCarousel/>}\r\n            {!keyword ? (<h1>Latest Products</h1>) : (<h1>Search Results on '{keyword}'</h1>)}\r\n            <Paginate page={page} pages={pages} keyword={keyword}/>\r\n            {loading ? <Loader/>\r\n                : error ? <Message variant='danger'>{error}</Message>\r\n                :\r\n                <div>\r\n                    <Row>\r\n                        {products.map((product) => (\r\n                            <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\r\n                                <Product product={product} />\r\n                            </Col>\r\n                        ))}\r\n                    </Row>\r\n                </div>\r\n            }\r\n            <Paginate page={page} pages={pages} keyword={keyword}/>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default HomeScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}