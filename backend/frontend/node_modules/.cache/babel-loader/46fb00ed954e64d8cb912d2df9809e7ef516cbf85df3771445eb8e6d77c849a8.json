{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button,Table}from'react-bootstrap';import{LinkContainer}from'react-router-bootstrap';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import Loader from'../components/Loader';import Message from'../components/Message';import{listOrders}from'../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function OrderListScreen(){var dispatch=useDispatch();var navigate=useNavigate();var orderList=useSelector(function(state){return state.orderList;});var loading=orderList.loading,error=orderList.error,orders=orderList.orders;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listOrders());}else navigate(-1);},[dispatch,userInfo]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Orders\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,style:{tableLayout:'fixed',width:'100%'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:'14%'},children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'14%'},children:\"USER\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'14%'},children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'14%'},children:\"TOTAL\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'14%'},children:\"PAID\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'14%'},children:\"DELIVERED\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'10%'}})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{width:'14%'},children:order._id}),/*#__PURE__*/_jsx(\"td\",{style:{width:'14%'},children:order.user&&order.user.name}),/*#__PURE__*/_jsx(\"td\",{style:{width:'14%'},children:new Date(order.createdAt).toLocaleString()}),/*#__PURE__*/_jsxs(\"td\",{style:{width:'14%'},children:[\"$\",order.totalPrice]}),/*#__PURE__*/_jsx(\"td\",{style:{width:'14%'},children:order.isPaid?new Date(order.paidAt).toLocaleString():/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsx(\"td\",{style:{width:'14%'},children:order.isDelivered?new Date(order.deliveredAt).toLocaleString():/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsx(\"td\",{style:{width:'10%'},children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/order/\".concat(order._id),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-circle-info\"})})})})]},order._id);})})]})]});}export default OrderListScreen;","map":{"version":3,"names":["React","useState","useEffect","Button","Table","LinkContainer","useDispatch","useSelector","useNavigate","Loader","Message","listOrders","jsx","_jsx","jsxs","_jsxs","OrderListScreen","dispatch","navigate","orderList","state","loading","error","orders","userLogin","userInfo","isAdmin","children","variant","striped","bordered","hover","responsive","style","tableLayout","width","map","order","_id","user","name","Date","createdAt","toLocaleString","totalPrice","isPaid","paidAt","className","color","isDelivered","deliveredAt","to","concat","class"],"sources":["C:/ecomm/backend/frontend/src/screens/OrderListScreen.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { Button, Table } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport { listOrders } from '../actions/orderActions'\r\n\r\n\r\nfunction OrderListScreen() {\r\n\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    const orderList = useSelector(state => state.orderList)\r\n    const { loading, error, orders } = orderList\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    useEffect(() => {\r\n        if (userInfo && userInfo.isAdmin) {\r\n            dispatch(listOrders())\r\n        } else navigate(-1)\r\n    }, [dispatch, userInfo])\r\n\r\n    return (\r\n        <div>\r\n            <h1>Orders</h1>\r\n            { loading \r\n                ? <Loader /> \r\n                : error \r\n                    ? <Message variant='danger'>{error}</Message>\r\n                    : (\r\n                        <Table striped bordered hover responsive style={{ tableLayout: 'fixed', width: '100%' }}>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style={{ width: '14%' }}>ID</th>\r\n                                    <th style={{ width: '14%' }}>USER</th>\r\n                                    <th style={{ width: '14%' }}>DATE</th>\r\n                                    <th style={{ width: '14%' }}>TOTAL</th>\r\n                                    <th style={{ width: '14%' }}>PAID</th>\r\n                                    <th style={{ width: '14%' }}>DELIVERED</th>\r\n                                    <th style={{ width: '10%' }}></th>\r\n                                </tr>\r\n                            </thead>\r\n\r\n                            <tbody>\r\n                                {orders.map(order => (\r\n                                    <tr key={order._id}>\r\n                                        <td style={{ width: '14%' }}>{order._id}</td>\r\n                                        <td style={{ width: '14%' }}>{order.user && order.user.name}</td>\r\n                                        <td style={{ width: '14%' }}>{new Date(order.createdAt).toLocaleString()}</td>\r\n                                        <td style={{ width: '14%' }}>${order.totalPrice}</td>\r\n                                        <td style={{ width: '14%' }}>{order.isPaid \r\n                                            ? new Date(order.paidAt).toLocaleString()\r\n                                            : <i className='fas fa-times' style={{color:'red'}}></i>}\r\n                                        </td>\r\n                                        <td style={{ width: '14%' }}>{order.isDelivered \r\n                                            ? new Date(order.deliveredAt).toLocaleString()\r\n                                            : <i className='fas fa-times' style={{color:'red'}}></i>}\r\n                                        </td>\r\n                                        <td style={{ width: '10%' }}>\r\n                                            <LinkContainer to={`/order/${order._id}`}>\r\n                                                <Button variant='light' className='btn-sm'>\r\n                                                    <i class='fa-solid fa-circle-info'></i>\r\n                                                </Button>\r\n                                            </LinkContainer>\r\n                                        </td>\r\n \r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </Table>\r\n                    )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderListScreen\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}