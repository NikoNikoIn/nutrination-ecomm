{"ast":null,"code":"import _slicedToArray from\"C:/ecomm/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Form,Button,Col}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import FormContainer from'../components/FormContainer';import CheckoutSteps from'../components/CheckoutSteps';import{useNavigate}from'react-router-dom';import{savePaymentMethod}from'../actions/cartActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PaymentScreen(){var cart=useSelector(function(state){return state.cart;});var shippingAddress=cart.shippingAddress;var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),paymentMethod=_useState2[0],setPaymentMethod=_useState2[1];if(!shippingAddress.address){navigate('/shipping');}var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var submitHandler=function submitHandler(e){e.preventDefault();if(userInfo&&paymentMethod){dispatch(savePaymentMethod(paymentMethod));navigate('/placeorder');}else if(userInfo&&!paymentMethod){alert('Please select a payment method.');}else navigate('/login?redirect=placeorder');};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(CheckoutSteps,{step1:true,step2:true,step3:true}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{as:\"legend\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Select Method\"})}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form.Check,{style:{padding:'0.5rem'},type:\"radio\",id:\"paypal\",name:\"paymentMethod\",value:\"PayPal or Credit Card\",onChange:function onChange(e){return setPaymentMethod(e.target.value);},label:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-brands fa-paypal\"}),\" PayPal or Credit Card\"]})}),/*#__PURE__*/_jsx(Form.Check,{style:{padding:'0.5rem'},type:\"radio\",id:\"cash\",name:\"paymentMethod\",value:\"Cash on delivery\",onChange:function onChange(e){return setPaymentMethod(e.target.value);},label:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-money-bill\"}),\" Cash on delivery\"]})})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",style:{fontSize:'1.5rem',padding:'1rem 2rem',borderRadius:'4px',display:'block',width:'100%',marginTop:'2rem',marginBottom:'2rem'},children:\"Place Order\"})]})]});}export default PaymentScreen;","map":{"version":3,"names":["React","useState","Form","Button","Col","useDispatch","useSelector","FormContainer","CheckoutSteps","useNavigate","savePaymentMethod","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PaymentScreen","cart","state","shippingAddress","dispatch","navigate","_useState","_useState2","_slicedToArray","paymentMethod","setPaymentMethod","address","userLogin","userInfo","submitHandler","e","preventDefault","alert","children","step1","step2","step3","onSubmit","Group","Label","as","Check","style","padding","type","id","name","value","onChange","target","label","class","variant","fontSize","borderRadius","display","width","marginTop","marginBottom"],"sources":["C:/ecomm/backend/frontend/src/screens/PaymentScreen.js"],"sourcesContent":["import React, {useState} from 'react'\r\nimport { Form, Button, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport FormContainer from '../components/FormContainer'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { savePaymentMethod } from '../actions/cartActions'\r\n\r\n\r\nfunction PaymentScreen() {\r\n\r\n    const cart = useSelector(state => state.cart)\r\n    const {shippingAddress} = cart\r\n\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    const [paymentMethod, setPaymentMethod] = useState('')\r\n\r\n    if (!shippingAddress.address) {\r\n        navigate('/shipping')\r\n    }\r\n\r\n    const userLogin = useSelector((state) => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n\r\n        if (userInfo && paymentMethod) {\r\n            dispatch(savePaymentMethod(paymentMethod))\r\n            navigate('/placeorder')\r\n        } else if (userInfo && !paymentMethod) {\r\n            alert('Please select a payment method.')      \r\n        } else navigate('/login?redirect=placeorder')\r\n\r\n    }\r\n\r\n    return (\r\n        <FormContainer>\r\n            <CheckoutSteps step1 step2 step3/>\r\n            <Form onSubmit={submitHandler}>\r\n                <Form.Group>\r\n                    <Form.Label as='legend'><h1>Select Method</h1></Form.Label>\r\n                    <Col>\r\n                        <Form.Check \r\n                            style={{ padding: '0.5rem' }} \r\n                            type='radio' \r\n                            id='paypal' \r\n                            name='paymentMethod' \r\n                            value='PayPal or Credit Card'\r\n                            onChange={(e) => setPaymentMethod(e.target.value)}\r\n                            label={<><i class='fa-brands fa-paypal'></i> PayPal or Credit Card</>}\r\n                        />\r\n                        <Form.Check \r\n                            style={{ padding: '0.5rem' }} \r\n                            type='radio' \r\n                            id='cash' \r\n                            name='paymentMethod' \r\n                            value='Cash on delivery'\r\n                            onChange={(e) => setPaymentMethod(e.target.value)}\r\n                            label={<><i class='fa-solid fa-money-bill'></i> Cash on delivery</>}\r\n                        />\r\n                    </Col>\r\n                </Form.Group>\r\n\r\n                <Button type='submit' variant='primary' style={{ fontSize: '1.5rem', padding: '1rem 2rem', borderRadius: '4px', display: 'block', width: '100%', marginTop: '2rem', marginBottom: '2rem' }}>\r\n                    Place Order\r\n                </Button>\r\n            </Form>\r\n        </FormContainer>\r\n    )\r\n}\r\n\r\nexport default PaymentScreen\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}