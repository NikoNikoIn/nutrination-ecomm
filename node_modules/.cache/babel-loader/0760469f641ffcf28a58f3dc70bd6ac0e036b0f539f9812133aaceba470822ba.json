{"ast":null,"code":"import React,{useEffect}from'react';import{Button,Table}from'react-bootstrap';import{LinkContainer}from'react-router-bootstrap';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import Loader from'../components/Loader';import Message from'../components/Message';import{listUsers,deleteUser}from'../actions/userActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserListScreen(){var dispatch=useDispatch();var navigate=useNavigate();var userList=useSelector(function(state){return state.userList;});var loading=userList.loading,error=userList.error,users=userList.users;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var userDelete=useSelector(function(state){return state.userDelete;});var successDelete=userDelete.success;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listUsers());}else navigate(-1);},[dispatch,successDelete,userInfo,navigate]);var deleteHandler=function deleteHandler(id){if(window.confirm('Are you sure you want to delete this user?')){dispatch(deleteUser(id));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,style:{tableLayout:'fixed',width:'100%'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:'20%'},children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'20%'},children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'20%'},children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'20%'},children:\"ADMIN\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'10%'}})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{width:'20%'},children:user._id}),/*#__PURE__*/_jsx(\"td\",{style:{width:'20%'},children:user.name}),/*#__PURE__*/_jsx(\"td\",{style:{width:'20%'},children:user.email}),/*#__PURE__*/_jsx(\"td\",{style:{width:'20%'},children:user.isAdmin?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'green'}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsxs(\"td\",{style:{width:'10%'},children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/user/\".concat(user._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-user-pen\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm\",onClick:function onClick(){return deleteHandler(user._id);},children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-trash\"})})]})]},user._id);})})]})]});}export default UserListScreen;","map":{"version":3,"names":["React","useEffect","Button","Table","LinkContainer","useDispatch","useSelector","useNavigate","Loader","Message","listUsers","deleteUser","jsx","_jsx","jsxs","_jsxs","UserListScreen","dispatch","navigate","userList","state","loading","error","users","userLogin","userInfo","userDelete","successDelete","success","isAdmin","deleteHandler","id","window","confirm","children","variant","striped","bordered","hover","responsive","style","tableLayout","width","map","user","_id","name","email","className","color","to","concat","class","onClick"],"sources":["C:/ecomm backup/nutrination/backend/src/screens/UserListScreen.js"],"sourcesContent":["import React, {useEffect} from 'react'\r\nimport { Button, Table } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport { listUsers, deleteUser } from '../actions/userActions'\r\n\r\n\r\nfunction UserListScreen() {\r\n\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    const userList = useSelector(state => state.userList)\r\n    const { loading, error, users } = userList\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const userDelete = useSelector(state => state.userDelete)\r\n    const { success: successDelete } = userDelete\r\n\r\n    useEffect(() => {\r\n        if (userInfo && userInfo.isAdmin) {\r\n            dispatch(listUsers())\r\n        } else navigate(-1)\r\n    }, [dispatch, successDelete, userInfo, navigate])\r\n\r\n    const deleteHandler = (id) => {\r\n        if(window.confirm('Are you sure you want to delete this user?')) {\r\n            dispatch(deleteUser(id))\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h1>Users</h1>\r\n            { loading \r\n                ? <Loader /> \r\n                : error \r\n                    ? <Message variant='danger'>{error}</Message>\r\n                    : (\r\n                        <Table striped bordered hover responsive style={{ tableLayout: 'fixed', width: '100%' }}>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style={{ width: '20%' }}>ID</th>\r\n                                    <th style={{ width: '20%' }}>NAME</th>\r\n                                    <th style={{ width: '20%' }}>EMAIL</th>\r\n                                    <th style={{ width: '20%' }}>ADMIN</th>\r\n                                    <th style={{ width: '10%' }}></th>\r\n                                </tr>\r\n                            </thead>\r\n\r\n                            <tbody>\r\n                                {users.map(user => (\r\n                                    <tr key={user._id}>\r\n                                        <td style={{ width: '20%' }}>{user._id}</td>\r\n                                        <td style={{ width: '20%' }}>{user.name}</td>\r\n                                        <td style={{ width: '20%' }}>{user.email}</td>\r\n                                        <td style={{ width: '20%' }}>{user.isAdmin \r\n                                            ? <i className='fas fa-check' style={{color: 'green'}}></i> \r\n                                            : <i className='fas fa-times' style={{color:'red'}}></i>}\r\n                                        </td>\r\n                                        <td style={{ width: '10%' }}>\r\n                                            <LinkContainer to={`/admin/user/${user._id}/edit`}>\r\n                                                <Button variant='light' className='btn-sm'>\r\n                                                    <i class='fa-solid fa-user-pen'></i>\r\n                                                </Button>\r\n                                            </LinkContainer>\r\n\r\n                                            <Button variant='danger' className='btn-sm' onClick={() => deleteHandler(user._id)}>\r\n                                                <i class='fa-solid fa-trash'></i>\r\n                                            </Button>\r\n                                        </td>\r\n \r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </Table>\r\n                    )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserListScreen\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}